<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="io.choerodon.devops.infra.mapper.DevopsPvProPermissionMapper">
    <insert id="batchInsert">
        INSERT INTO devops_pv_project_rel (pv_id, project_id) VALUES
        <foreach collection="projectIds" item="projectId" separator=",">
            (#{pvId},#{projectId})
        </foreach>
    </insert>
    <delete id="batchDeleteByPvIdsAndProjectId">
        DELETE FROM devops_pv_project_rel WHERE
        <foreach collection="pvIds" item="pvId" separator="OR">
            (pv_id=#{pvId})
        </foreach>
        AND project_id=#{projectId}
    </delete>
</mapper>